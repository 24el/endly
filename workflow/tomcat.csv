Workflow,,Name,Description,Tasks,,Init,,
,,tomcat,Tomcat server action manager,%Tasks,,#tomcat_init.json,,
[]Tasks,,Name,Description,Actions,,,,
,,install,This task will install tomcat,%Install,,,,
[]Install,Service,Action,Description,Request,,,,
,deployment,deploy,Deploy tomcat server into target host,#req/tomcat_deploy,,,,
[]Tasks,,Name,Description,Actions,,,,
,,start,This task will start tomcat,%Start,,,,
[]Start,Service,Action,Description,Request,RunCriteria,Variables,Post,
,sdk,set,Set jdk,#req/set_jdk.json,,,,
,process,status,Check tomcat process,#req/tomcat_check,,,"[{""name"":""tomcatPid"", ""from"":""Pid"", ""value"":""0""}]",
,exec,extractable-command,Stop tomcat server,#req/tomcat_stop,$tomcatPid:!0,,,
,exec,extractable-command,Start tomcat server,#req/tomcat_start,,,,
[]Tasks,,Name,Description,Actions,,,,
,,stop,This task will stop tomcat,%Stop,,,,
[]Stop,Service,Action,Description,Request,RunCriteria,,Post,SleepTimeMs
,sdk,set,Set jdk,#req/set_jdk,,,,
,process,status,Check tomcat process,#req/tomcat_check,,,"[{""name"":""tomcatPid"", ""from"":""Pid"", ""value"":""0""}]",
,exec,extractable-command,Stop tomcat server,#req/tomcat_stop,$tomcatPid:!0,,,500
,process,status,Check tomcat process,#req/tomcat_check,,,"[{""name"":""tomcatPid"", ""from"":""Pid"", ""value"":""0""}]",
,process,stop,Kill tomcat process,#req/tomcat_kill,$tomcatPid:!0,,,