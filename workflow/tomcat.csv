Workflow,,Name,Description,Tasks,,Init,,
,,tomcat,Tomcat server action manager,%Tasks,,#tomcat_var.json,,
[]Tasks,,Name,Description,Actions,,,,
,,install,This task will install tomcat,%Install,,,,
[]Install,Service,Action,Description,Request,,,,
,deployment,deploy,Deploy tomcat server into target host,$deployRequest,,,,
[]Tasks,,Name,Description,Actions,,,,
,,start,This task will start tomcat,%Start,,,,
[]Start,Service,Action,Description,Request,RunCriteria,Variables,Post,
,sdk,jdk,Set jdk,$setRequest,,,,
,process,check,Check tomcat process,$checkRequest,,,"[{""name"":""tomcatPid"", ""from"":""Pid""}]",
,exec,managedCommand,Stop tomcat server,$stopRequest,$tomcatPid:!0,,,
,exec,managedCommand,Start tomcat server,$startRequest,,,,
[]Tasks,,Name,Description,Actions,,,,
,,stop,This task will stop tomcat,%Stop,,,,
[]Stop,Service,Action,Description,Request,RunCriteria,,Post,SleepInMs
,sdk,jdk,Set jdk,$setRequest,,,,
,process,check,Check tomcat process,$checkRequest,,,"[{""name"":""tomcatPid"", ""from"":""Pid""}]",
,exec,managedCommand,Stop tomcat server,$stopRequest,$tomcatPid:!0,,,500
,process,check,Check tomcat process,$checkRequest,,,"[{""name"":""tomcatPid"", ""from"":""Pid""}]",
,process,stop,Kill tomcat process,$killRequest,$tomcatPid:!0,,,
[]Tasks,,Name,Description,Actions,,,,
,,deploy,This task will deploy app,%Deploy,,,,
[]Deploy,Service,Action,Description,Request,,,Post,SleepInMs
,process,check,Check tomcat process,$checkRequest,,,"[{""name"":""tomcatPid"", ""from"":""Pid""}]",
,exec,managedCommand,Start tomcat server if needed,$startRequest,$tomcatPid:0,,,