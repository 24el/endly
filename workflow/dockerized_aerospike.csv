Workflow,,Name,Description,Tasks,,Init,
,,dockerized_aerospike,This workflow will setup and start aeropsike as docker service,%Tasks,,#dockerized_aerospike_var.json,
[]Tasks,Step,Name,Description,Actions,RunCriteria,,
,1,system_start_docker,This task wil start system docker service if it is not running,%Actions1,,,
[]Actions1,Service,Action,Description,Request,RunCriteria,,Post
,system,status,Check if system docker service is running,$systemDockerRequest,,,"[{""name"":""dockerSystemStatus"", ""from"":""State""}]"
,system,start,Start docker service,$systemDockerRequest,$dockerSystemStatus:/!running/,,
[]Tasks,Step,Name,Description,Actions,RunCriteria,,
,2,prepare_config,This task will transfer and expand aerospike config,%Actions2,,,
[]Actions2,Service,Action,Description,Request,RunCriteria,,
,transfer,copy,This action will copy template config file to the temp folder,$transferRequest,$params.confgUrl:/!params.configUrl/,,
[]Tasks,Step,Name,Description,Actions,RunCriteria,,
,3,docker_run_aerospike,This task will start docker aerospike instance,%Actions3,,,
[]Actions3,Service,Action,Description,Request,,,
,docker,run,Start docker aerospike service,$dockerRunRequest,,,