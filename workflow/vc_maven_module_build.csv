Workflow,,Name,Description,Tasks,Init,DeferTask,
,,vc_maven_module_build,Workflow check outs/pulls latest change from vc to maven build it,%Tasks, @vc_maven_module_build_var.json,cleanup,
[]Tasks,Step,Name,Description,Actions,,,
,1,checkout,This task wil get the latest code and build it,%Checkout,,,
[]Checkout,Service,Action,Description,Request,,,
,version/control,checkout,Check out the latest code,$checkoutRequest,,,
,transfer,copy,Copy module pom file,$transferPomRequest,,,
[]Tasks,Step,Name,Description,Actions,,,
,1,build,This task wil build the checked out code,%Build,,,
[]Build,Service,Action,Description,Request,Group,SkipCriteria,Init
,storage,download,Take current maven settings, @req/maven_get_active_settings,mvn_setting,$mavenSettings:!,
,storage,upload,Backup current maven settings, @req/maven_backup_settings,mvn_setting,,
,storage,download,Take maven supplied settings, @req/maven_get_settings,mvn_setting,,
,storage,upload,Apply suppplied maven settings, @req/maven_set_settings,mvn_setting,,
,build,build,Build maven artifact,$buildRequest,,,
[]Tasks,Step,Name,Description,Actions,,,
,1,cleanup,restores previous maven settings.xml file,%Cleanup,,,
[]Cleanup,Service,Action,Description,Request,Group,RunCriteria,
,storage,upload,Restore original maven settings, @req/maven_restore_settings.json,,,
,storage,remove,Remove backup settings.xml, @req/maven_remove_backup_settings.json,,,